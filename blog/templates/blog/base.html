{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}My Blog{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'blog/css/style.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <header class="navbar">
        <h1><a href="{% url 'home' %}" class="logo">Django Blog Application</a></h1>
        <nav class="nav-right">
            {% if user.is_authenticated %}
                <a href="{% url 'my_blogs' %}" class="username">{{ user.username }}</a>
                <a href="{% url 'post_new' %}" class="nav-btn">+ Create Blog</a>
                <a href="{% url 'logout' %}" class="nav-btn logout-btn"
                   onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                    Logout
                </a>
                <form id="logout-form" action="{% url 'logout' %}" method="post" style="display:none;">
                    {% csrf_token %}
                </form>
            {% else %}
                <a href="{% url 'login' %}" class="nav-btn">Login</a>
                <a href="{% url 'signup' %}" class="nav-btn">Sign Up</a>
            {% endif %}
        </nav>
    </header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <script>
        setTimeout(() => {
            document.querySelectorAll('.popup').forEach(p => p.remove());
        }, 3500);
    </script>
</body>
</html>
